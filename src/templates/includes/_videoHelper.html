{% macro video_styles() %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/video.js/7.19.2/video-js.min.css" >
<link rel="stylesheet" href="https://unpkg.com/@videojs/themes@1/dist/forest/index.css">
<link rel="stylesheet" href="{{ url_for('static', filename='styles/video_js.css') }}">
{% endmacro %}

{% macro video_player() %}
<video-js id="video-player" class="vjs-theme-forest vjs-matrix" poster="https://storage.googleapis.com/coursefinity/course-thumbnails/placeholder.webp">
    <p class="vjs-no-js">
      To view this video please enable JavaScript, and consider upgrading to a web browser that <a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
    </p>
</video-js>
{% endmacro %}

{% macro video_scripts() %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/video.js/7.19.2/video.min.js"></script>
<script src="https://cdn.dashjs.org/v4.4.0/dash.all.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-contrib-dash@5.1.1/dist/videojs-dash.cjs.min.js"></script>
{% endmacro %}

{% macro video_link(videoPath) %}
<script nonce="{{ csp_nonce() }}">

  var player = videojs('video-player', {
    playbackRates: [0.5, 1, 1.5, 2],
    aspectRatio: "16:9",
    fluid: true,          //The video player
    responsive: true,     //The video controls
    autoplay: true,       //Or attempts to
    controls: true,
    preload: "auto",
  });

  player.ready(function() {
    player.src({
      type: 'application/dash+xml',
      //type: 'application/x-mpegurl',
      //type: 'application/vnd.apple.mpegurl',
      src: '{{ videoPath }}'
      //src: 'https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s-fmp4/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8'
      //src: 'https://storage.googleapis.com/shaka-demo-assets/angel-one/dash.mpd'
    });
});


</script>
{% endmacro %}